"""
üåü –¢–ï–ü–õ–Ü –ü–†–ò–í–Ü–¢–ê–ù–ù–Ø - –ü–ï–†–°–û–ù–ê–õ–Ü–ó–û–í–ê–ù–Ü –î–õ–Ø –ö–û–ñ–ù–û–ì–û –ö–û–†–ò–°–¢–£–í–ê–ß–ê
"""

from datetime import datetime
import random

class WarmGreetings:
    """–ü–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –≤—ñ—Ç–∞–Ω–Ω—è –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤"""
    
    # –ù–û–í–ê–ß–ö–ò (–ø–µ—Ä—à–∏–π —Ä–∞–∑)
    FIRST_TIME = {
        'main': """üëã **–í—ñ—Ç–∞—é —É FerrikFoot!** üçï

–Ø **Ferrik** ‚Äî —Ç–≤—ñ–π —Å—É–ø–µ—Ä-–ø–æ–º—ñ—á–Ω–∏–∫ –∑—ñ —Å–º–∞–∫—É üòã

–ó–Ω–∞—é, —Ç–∏ –≥–æ–ª–æ–¥–Ω–∏–π! –í–∏–±–µ—Ä–∏, —â–æ –±–∞–∂–∞—î—à:

‚ú® **–ü–æ—Ä–∞–¥–∏—Ç–∏ —Å—Ç—Ä–∞–≤—É** –∑–∞ —Ç–≤–æ—ó–º –Ω–∞—Å—Ç—Ä–æ—î–º
üéÅ **–ü–æ–¥–∞—Ä—É—é 50 –±–æ–Ω—É—Å—ñ–≤** –Ω–∞ –ø–µ—Ä—à–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è  
üìã **–ü–æ–∫–∞–∑–∞—Ç–∏ –º–µ–Ω—é** –∑ –∫—Ä–∞—â–∏—Ö —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ñ–≤
üí¨ **–†–æ–∑—É–º—ñ—Ç–∏** —Ç–≤–æ—ó –±–∞–∂–∞–Ω–Ω—è —è–∫ –ª—é–¥–∏–Ω–∞ (–Ω–µ –±–æ—Ç)

–ß–æ–≥–æ —á–µ–∫–∞—î–º–æ? –ó—Ä–æ–±–∏–º–æ —Ç–µ–±–µ —â–∞—Å–ª–∏–≤–∏–º! üöÄ""",
        'buttons': {
            'recommend': 'üí° –ü–æ—Ä–∞–¥—å',
            'menu': 'üìã –ú–µ–Ω—é',
            'profile': '‚≠ê –ü—Ä–æ—Ñ—ñ–ª—å'
        }
    }
    
    # –ü–û–°–¢–Ü–ô–ù–Ü –ö–õ–Ü–Ñ–ù–¢–ò (2-9 –∑–∞–º–æ–≤–ª–µ–Ω—å)
    RETURNING_REGULAR = [
        """–û—É, —Ç–∏ –ø–æ–≤–µ—Ä–Ω—É–≤—Å—è! üëã

–°–ø–æ–¥—ñ–≤–∞—é—Å—å, –ø–æ–ø–µ—Ä–µ–¥–Ω—î –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –±—É–ª–æ —Å–º–∞—á–Ω–∏–º? üçΩÔ∏è

–©–æ —Å—å–æ–≥–æ–¥–Ω—ñ –∑–∞–º–æ–≤–ª—è—î–º–æ? üòã""",
        
        """–ü—Ä–∏–≤—ñ—Ç, –æ–±–ª—É–¥–Ω–∏—á–µ! üéâ

–Ø –∑–Ω–∞–≤ —â–æ —Ç–∏ –ø–æ–ø–æ–≤—Ç–æ—Ä–∏—à! üòÑ
–Ø–∫—É —Å—Ç—Ä–∞–≤—É —Å—å–æ–≥–æ–¥–Ω—ñ? üçï""",
        
        """–¢–∏ –∑–Ω–æ–≤ —Ç—É—Ç! üåü

–£–∂–µ —Å–∫—É—á–∏–≤ –∑–∞ —Ç–≤–æ—ó–º —Å–º–∞–∫–æ–º! üë®‚Äçüç≥
–î–∞–≤–∞–π —â–æ—Å—å —Å–º–∞—á–Ω–µ? üî•""",
    ]
    
    # VIP (10+ –∑–∞–º–æ–≤–ª–µ–Ω—å)
    VIP_REGULAR = [
        """–ü—Ä–∏–≤—ñ—Ç, **{badge}**! üëë

–¢–∏ –≤–∂–µ {count} —Ä–∞–∑—ñ–≤ –∑–∞–º–æ–≤–∏–≤! üçï
–°–µ—Ä–µ–¥–Ω—è –æ—Ü—ñ–Ω–∫–∞ —Ç–≤–æ—ó—Ö –∑–∞–º–æ–≤–ª–µ–Ω—å: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê

–î–ª—è —Ç–µ–±–µ —Å—å–æ–≥–æ–¥–Ω—ñ: **{bonus} –±–æ–Ω—É—Å—ñ–≤** –Ω–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è! üéÅ

–©–æ –Ω–∞ –º–µ–Ω—é? üòã""",
        
        """–ü—Ä–∏–≤—ñ—Ç, –º–æ—è –º–µ–≥–∞–∑—ñ—Ä–∫–∞! üåü

{count} –∑–∞–º–æ–≤–ª–µ–Ω—å - —Ü–µ –ª–µ–≥–µ–Ω–¥–∞! üèÜ
–¢–≤–æ—ó —Å–º–∞–∫–∏ —É–∂–µ –ª–µ–≥–µ–Ω–¥–∞ –≤ –Ω–∞—à—ñ–π –±–∞–∑—ñ üòÑ

–°–ø–µ—Ü—ñ–∞–ª—å —Å—å–æ–≥–æ–¥–Ω—ñ: **{bonus} –±–æ–Ω—É—Å—ñ–≤ + -15% –Ω–∞ –≤—Å—é –ø—ñ—Ü—É!** üçï""",
    ]
    
    # –î–ê–í–ù–û –ù–ï –ë–ê–ß–ò–õ–ò (–æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è >30 –¥–Ω—ñ–≤)
    COMEBACK = [
        """–ú–∏ —Å—É–º—É–≤–∞–ª–∏ –∑–∞ —Ç–æ–±–æ—é! üíî

–î–µ —Ç–∏ –±—É–≤ {days} –¥–Ω—ñ–≤? üò¢

–î–∞–≤–∞–π –ø–æ–≤–µ—Ä–Ω–µ–º–æ—Å—å –¥–æ —Å–º–∞—á–Ω–æ–≥–æ? üçï
–î–ª—è –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è: **+100 –±–æ–Ω—É—Å—ñ–≤**! üéÅ""",
        
        """–¢–∏ –∑–∞–±—É–≤ –ø—Ä–æ –Ω–∞—Å? üò≠

{days} –¥–Ω—ñ–≤ –±–µ–∑ –∑–∞–º–æ–≤–ª–µ–Ω—å - —Ü–µ –±–æ–ª—å! üíî
–î–∞–≤–∞–π —Ü–µ –≤–∏–ø—Ä–∞–≤–∏–º–æ? 

–ü–æ–≤–µ—Ä–Ω–∏—Å—è –∑ **{bonus} –±–æ–Ω—É—Å—ñ–≤**! üéâ""",
    ]
    
    @staticmethod
    def get_greeting_by_order_count(order_count: int, days_since_last: int = None, badge: str = None, bonus: int = 0) -> str:
        """–û—Ç—Ä–∏–º–∞—Ç–∏ –ø—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è –Ω–∞ –æ—Å–Ω–æ–≤—ñ —ñ—Å—Ç–æ—Ä—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞"""
        
        # –ù–æ–≤–∞—á–æ–∫
        if order_count == 0:
            return WarmGreetings.FIRST_TIME['main']
        
        # –î–∞–≤–Ω–æ –Ω–µ –±–∞—á–∏–ª–∏
        if days_since_last and days_since_last > 30:
            msg = random.choice(WarmGreetings.COMEBACK)
            return msg.format(days=days_since_last, bonus=bonus)
        
        # –ü–æ—Å—Ç—ñ–π–Ω–∏–π
        if 1 <= order_count < 10:
            return random.choice(WarmGreetings.RETURNING_REGULAR)
        
        # VIP
        if order_count >= 10:
            msg = random.choice(WarmGreetings.VIP_REGULAR)
            return msg.format(badge=badge or 'üëë –õ–µ–≥–µ–Ω–¥–∞', count=order_count, bonus=bonus)
        
        return "–ü—Ä–∏–≤—ñ—Ç! üëã –ß–æ–≥–æ –∑–∞–º–æ–≤–ª—è—î–º–æ? üòã"
    
    @staticmethod
    def get_add_to_cart_reaction(item_name: str, is_favorite: bool = False) -> str:
        """–†–µ–∞–∫—Ü—ñ—è –Ω–∞ –¥–æ–¥–∞–≤–∞–Ω–Ω—è —Ç–æ–≤–∞—Ä–∞"""
        reactions = [
            f"‚úÖ {item_name}? –ß—É–¥–æ–≤–∏–π –≤–∏–±—ñ—Ä! üõí",
            f"üéØ {item_name} –¥–æ–¥–∞–Ω–∞! –©–µ —â–æ—Å—å? üòã",
            f"üëå {item_name} - —Ü–µ –±—É–¥–µ —Å–º–∞—á–Ω–æ! üçï",
            f"üî• –•—ñ—Ç! {item_name} —É —Ç–µ–±–µ! üî•",
        ]
        
        if is_favorite:
            reactions.append(f"‚ù§Ô∏è –¢–∏ –≤–∂–µ –∑–Ω–∞—î—à —Å–º–∞–∫! {item_name} –∑–Ω–æ–≤—É? üòÑ")
        
        return random.choice(reactions)
    
    @staticmethod
    def get_checkout_encouragement() -> str:
        """–ú–æ—Ç–∏–≤–∞—Ü—ñ—è –ø—Ä–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—ñ"""
        msgs = [
            "üéâ –û—Ñ–æ—Ä–º–ª—è—î–º–æ? –ë—É–¥–µ —Å–º–∞—á–Ω–æ! üòã",
            "‚è≠Ô∏è –î–∞–≤–∞–π —Å–∫–æ—Ä—ñ—à–µ, –≥–æ–ª–æ–¥ –Ω–µ —á–µ–∫–∞—î! üî•",
            "üí® –ö—É—Ä—Å –Ω–∞ –¥–æ—Å—Ç–∞–≤–∫—É? –ô–¥–µ–º–æ! üöó",
            "üéÅ –ê —Ç–∞–º —â–µ —ñ –±–æ–Ω—É—Å–∏ —Ç–æ–±—ñ! üí∞",
        ]
        return random.choice(msgs)
    
    @staticmethod
    def get_order_success_message(order_id: str, est_time: int = 30) -> str:
        """–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ —É—Å–ø—ñ—à–Ω–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è"""
        msgs = [
            f"üéâ –ó–ê–ú–û–í–õ–ï–ù–ù–Ø #{order_id} –ü–†–ò–ô–ù–Ø–¢–û!\n‚è∞ –ë—É–¥–µ –∑–∞ ~{est_time} —Ö–≤ üöó",
            f"‚úÖ –°—É–ø–µ—Ä! #{order_id} –≤ –¥–æ—Ä–æ–∑—ñ! üçï\n‚è±Ô∏è –ß–µ–∫–∞–π {est_time} —Ö–≤",
            f"üöÄ –õ–µ—Ç! #{order_id} –ø—Ä–∏–π–Ω—è—Ç–æ!\nüìç –ë—É–¥–µ–º–æ –∑–∞ {est_time} —Ö–≤! üîî",
        ]
        return random.choice(msgs)


# ============================================================================
# –¢–ï–°–¢
# ============================================================================

if __name__ == "__main__":
    print("üß™ Testing warm greetings:\n")
    
    print("1Ô∏è‚É£ –ù–æ–≤–∞—á–æ–∫:")
    print(WarmGreetings.get_greeting_by_order_count(0))
    
    print("\n2Ô∏è‚É£ –ü–æ—Å—Ç—ñ–π–Ω–∏–π (5 –∑–∞–º–æ–≤–ª–µ–Ω—å):")
    print(WarmGreetings.get_greeting_by_order_count(5))
    
    print("\n3Ô∏è‚É£ VIP (25 –∑–∞–º–æ–≤–ª–µ–Ω—å):")
    print(WarmGreetings.get_greeting_by_order_count(25, badge="üëë –õ–µ–≥–µ–Ω–¥–∞", bonus=150))
    
    print("\n4Ô∏è‚É£ –î–∞–≤–Ω–æ –Ω–µ –±–∞—á–∏–ª–∏:")
    print(WarmGreetings.get_greeting_by_order_count(10, days_since_last=45, bonus=100))
    
    print("\n5Ô∏è‚É£ –†–µ–∞–∫—Ü—ñ—ó:")
    print(WarmGreetings.get_add_to_cart_reaction("–ü—ñ—Ü–∞ –ú–∞—Ä–≥–∞—Ä–∏—Ç–∞", is_favorite=True))
    print(WarmGreetings.get_checkout_encouragement())
    print(WarmGreetings.get_order_success_message("0042"))
