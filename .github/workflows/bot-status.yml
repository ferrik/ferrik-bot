name: Bot Status Monitor

on:
  schedule:
    # –©–æ–≥–æ–¥–∏–Ω–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É
    - cron: '0 * * * *'
  workflow_dispatch:

jobs:
  monitor:
    runs-on: ubuntu-latest
    
    steps:
    - name: Check bot responsiveness
      run: |
        echo "üîç Checking bot status at $(date)"
        
        # –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –µ–Ω–¥–ø–æ—ñ–Ω—Ç—É
        if curl -f --max-time 30 https://ferrik-bot-zvev.onrender.com/keep-alive; then
          echo "‚úÖ Bot is responsive"
        else
          echo "‚ùå Bot not responding, may be sleeping"
          
          # –î–æ–¥–∞—Ç–∫–æ–≤–∏–π –ø—ñ–Ω–≥ –¥–ª—è –ø—Ä–æ–±—É–¥–∂–µ–Ω–Ω—è
          echo "üîÑ Attempting to wake up bot..."
          for i in {1..3}; do
            curl --max-time 10 https://ferrik-bot-zvev.onrender.com/ || true
            sleep 10
          done
        fi
        
    - name: Generate status report
      run: |
        echo "üìä Bot Status Report - $(date)"
        echo "Service URL: https://ferrik-bot-zvev.onrender.com"
        echo "Render Dashboard: https://dashboard.render.com/"
        echo "GitHub Actions: https://github.com/${{ github.repository }}/actions"